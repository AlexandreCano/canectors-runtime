{
  "connector": {
    "name": "filters-mapping-example",
    "version": "1.0.0",
    "description": "Example with field mapping filter",
    "input": {
      "type": "httpPolling",
      "endpoint": "https://api.source.com/customers",
      "schedule": "*/5 * * * *",
      "timeoutMs": 30000
    },
    "filters": [
      {
        "type": "mapping",
        "mappings": [
          {
            "source": "id",
            "target": "customerId",
            "onMissing": "fail"
          },
          {
            "source": "full_name",
            "target": "name",
            "defaultValue": "Unknown",
            "onMissing": "useDefault"
          },
          {
            "source": "email_address",
            "target": "email"
          },
          {
            "source": "created_at",
            "target": "registrationDate",
            "transforms": [
              {
                "op": "dateFormat",
                "format": "2006-01-02"
              }
            ]
          }
        ],
        "onError": "skip"
      }
    ],
    "output": {
      "type": "httpRequest",
      "endpoint": "https://api.destination.com/customers",
      "method": "POST"
    }
  }
}
